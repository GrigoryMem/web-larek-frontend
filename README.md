# Проектная работа "Веб-ларек"

Ссылка на проект
https://github.com/GrigoryMem/web-larek-frontend.git

Стек:

- Язык: TypeScript
- Архитектура: MVP
- Сборка: Webpack
- Среда: браузер
- Стили: SCSS

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

## Данные и типы данных, используемые в приложении

Данные объекта карточки товара, получаемые с сервера

```
interface IProduct {
  id: string,
  description: string,
  image: string,
  title: string,
  category: string,
  price:number | null;
}

```

Состав заказа включает данные пользователя (которые отправляются на сервер при оформлении заказа)

```
interface IOrder {
  payment: string,
  email: string,
  phone: string,
  address: string,
  total: number,
  items: string[]
}

```

Данные продукта с отметкой о наличии товара в корзине

```
interface IProductWithCart extends Omit<IProduct,'price'> {
  isInCart?: boolean;
  price: number | string;
}

```

Товар, добавленный в корзину:

```
interface IGoodInBasket extends Omit<IProduct , 'isInCart'>{}

```

Id карточки товара

```
type idGood = string;

```

Тип оплаты:

```
type TPayment = 'cash' | 'card' | 'Выберите способ оплаты';

```

Короткая типизация карточки для отображения массива карточек на главной странице

```

  type TShortCardProduct = Pick<IProductWithCart,'title' | 'category' | 'price' | 'image'>

```

При открытии модального окна подробного описания карточки товарa

```
type TBaseCardProduct = Pick<IProductWithCart,'title' | 'description' | 'category' | 'price' | 'image'| 'isInCart'| 'id'>

```

Данные пользователя, необходимые для оформления заказа:

1. Для форма заполнения адреса и способа олпаты:

```
type TBuyerInfo = Pick<IOrder,'address' | 'payment'>;

```

2. Для формы выбора адреса и телефона:

```
type TBuyerContacts = Pick<IOrder, 'phone' | 'email'>;

```

3. Типы полей формы

```
type OrderFields = Partial<TBuyerInfo & TBuyerContacts>
```

Интерфейс модели данных для карточе ктоваров

```
interface CatalogModel {
  cards: IProductWithCart[];
  preview: string | null;
  total:number;
  toggleInCart(id:string,toggle:boolean):void
  setPreview(id:string):void;
  setCards(cards:IProduct[]):void
  getProduct(id:string):void // чтобы получить при рендере списков
}


```

// Интерфейс товара в корзине

```

interface GoodInBasket {
  total:number,
  price:number,
  title:string
}

```

Интерфейс для модели данных добавленных в корзину товаров

```

interface IBasketModel {
  add(id:string,product: GoodInBasket):void
  remove(id:string):void;
  setOrderField(field:IOrderFields, value:string):void;
  validateOrder():boolean;
  updateOrderItems():void;
  clearBasket():void;
  getTotalSum(): number;
  getReadyOrder():IOrder
}

```

## Архитектура приложения

Архитектура проекта разрабатыватся с учетом паттерна MVP, в котором основными слоями являются: M - это model т.е. слой модели данных, V или View - это слой комопнентов представления, отвечающий за отображения компонентов на экране, предназначенных непосредственно для взаимодействия с пользователем. И P - это Presenter, код презентера не будет выделен в отдельный класс, а будет содержаться в основном скрипте приложения index.ts. Presenter управляет логикой работы всего приложения.
В приложении так же используется событийно-ориентированный подход, реализуемый посредством класса EventEmmiter. Т.е. любые изменения в приложении связаны с возникновением какого-то события.

### Базовый код

#### Класс Api

Содержит в себе базовую логику отправки запросов. В конструктор передается базовый адрес сервера baseUrl: string и опциональный объект с заголовками запросов options: RequestInit = {}.
Поля класса:

- baseUrl: string - базовый адрес сервера (API), с которым работает данное приложение;
- options: RequestInit - объект с настройками для HTTP-запроса.
  Конструктор класса устанавливает вышеуказанные поля.
  Методы:
- get<T>(uri: string) - выполняет GET запрос на переданный в параметрах ендпоинт и возвращает промис с объектом, которым ответил сервер. В дженерик типа T передается тип объекта, который мы ожидаем получить из ответа, который предоставит нам сервер на этот запрос. Параметр uri: string - путь к конкретному ресурсу на сервере, т.е. часть url, который указывается после базового адреса сервера.
- post<T>(uri: string, data: object, method: ApiPostMethods = 'POST') - принимает объект с данными data: object, которые будут переданы в JSON в теле запроса, и отправляет эти данные на ендпоинт переданный как параметр при вызове метода. По умолчанию выполняется `POST` запрос, но метод запроса может быть переопределен заданием третьего параметра при вызове.
- handleResponse<T>(response: Response): Promise<T> -обрабатывает ответ от сервера, полученный после запроса через fetch. Дженерик типа T ожидаем получитьот сервера ответ опрделенного типа.response: Response - аргумент: объект, который создает fetch, когда получает ответ от сервера.Promise<T> - результат, означающий что вернется промис с данными типа Т, который ожидается.

#### Класс EventEmitter

Брокер событий позволяет отправлять события и подписываться на события, происходящие в системе. Класс используется в презентере для обработки событий и в слоях приложения для генерации событий. Конструктор класса устанавливает значение в поле events.
Поле класса:

- events: `Map<EventName, Set<Subscriber>>` -
  коллекция значений, где ключ EventName - имя события, Set<Subscriber> - коллекция множества подписчиков, которые подписались на это событие

Основные методы, реализуемые классом описаны интерфейсом `IEvents`:

- on<T extends object>(eventName: EventName, callback: (event: T) => void) - подписка на событие. дженерик T это тип данных который перейдет параметром в колллбэк функцию callback: (event: T);
- off(eventName: EventName, callback: Subscriber) -
  отписывает подписчика callback: Subscriber от события eventName: EventName;
- emit<T extends object>(eventName: string, data?: T) - Инициирует событие с указанным именем eventName и передаёт всем подписчикам связанные с этим событием данные data типа T.
- onAll(callback: (event: EmitterEvent) => void) - выполняет callback указанныйкак аргумент, которая будет выполняться для любого события иницируемого методом emit;
- offAll() - сбрасывает все подписки на события;
- trigger<T extends object>(eventName: string, context?: Partial<T>) -возвращает функцию, при вызове которой инициализируется требуемое в параметрах событие;
- trigger<T extends object>(eventName: string, context?: Partial<T>) - создаёт функцию, которая вызывает событие с данными, дополняя их заранее заданным контекстом.Передается eventName: string - имя события, context?: Partial<T> - необязательный объект, с типом T, который передан в дженерик T.

### Классы слоя модели данных

#### Класс Model

Класс является абстрактным родительским базовым классом для все моделей данных в приложении.
Конструктор класса принимает: data получает исходные данные типа Partial<T> и экземпляр брокера событий класса EventEmitter интерфейса IEvents.
В дженерик принимается тип объекта T указывает,какие данные будут храниться в кокретной модели т.е. шаблон модели данных, Partial означает частичную передачу свойств объекта T
В конструкторе класса копируются все свойства объекта data в поля экземпляра класса.
Имеет поле events для хранения брокера событий интерфейса`IEvents
Класс предоставляет один метод:
emitChanges(event: string, payload?: object) - данный метод дает возможность сообщить другим комопнентам(слоям приложения),что что-то
поменялось в модели данных т.е генерирует определеннын события, описанные ниже, используя поле events

#### Класс CardsModel

Класс отвечает за хранение и логику работы с данными карточек товаров,которые может посмотреть или купить пользователь. Класс наследуется от родительского класса Model<IICardData>.
В полях класса хранятся следующие данные:

- \_total:number - общее количество товаров доступных к покупке или просмотре на странице
- \_cards:IProductWithCart[] - массив объектов карточек с отметкой о наличии/ отсутствии товара в корзине
- preview:string | null; id карточки, выбранной для просмотра или возможности покупки в модальном окне

Так же класс предоставляет набор методов для взаимодействия с этими данными.

- setPreview(id:string):void - принимает id карточки товара и устанавливается его в поле preview.
- toggleInCart(id:string,toggle:boolean) - принимает id объекта карточки товара и отмечает, что этот объект товара был добавлен в корзину или нет, используя поле isInCart: boolean;
- метод setCards(cards:IProduct[]) - принимает массив карточек товаров IProduct[] и устанавливает в поле \_cards массив IProductWithCart[] с отметкой isInCart: boolean, подсказывающей есть ли товар в корзине;
- getProduct(id:string):IProductWithCart|undefined - получает одну карточку из списка карточек, по id параметру
- геттер cards():IProductWithCart[] будет получать карточки с отметкой о том, есть ли товар в корзине;
- сеттер get total():number - возвращает количество карточек содержащихся в модели данных.

#### Класс BasketModel

Класс отвечает за хранение и логику работы с данными товаров,которые пользователь добавил в корзину,формирование заказа, валидацию полей заказа, Класс наследуется от родительского класса Model<IBasketModel>,где
IBasketModel - дженерик интерфейс методов модели данных корзины
Поля класса:
-\_items:Map<idGood,GoodInBasket> - хранит коллекцию Map<ключ/значение>, где ключ idGood:string это id товара, GoodInBasket - количество товара и его стоимость и название;

- \_order:IOrder - объект заказа интерфейса IOrder, включает список покупок и данные пользователя
- formErrors: TOrderForm ={} - хранение ошибок если поля заказа order не прошли валидацию;
  Конструктор класса принимает объект с начальными данными (частично заполненный, может быть пустым) и экземпляр брокера событий EventEmitter. Он служит для инициализации поля \_items как нового экземпляра коллекции Map<idGood, GoodInBasket>.
  Методы класса:
- add(id:string): void - добавляет товар в поле \_items используя id как ключ для Map в поле \_items;
- remove(id:string):void; - удаляет товар из поля \_items, используя id карточки товара;
- getReadyOrder():IOrder - получает заказ из поля \_order, соответствующий IOrder.
- setOrderField(field:IOrderFields, value:string):void - принимает имя поля заказа field:IOrderFields и значение value:string,чтобы затем заполнить поле заказа этим значением и провести валидацию.
- validateOrder():boolean проверяет валидацию полей, где хранятся данные пользователя;
- updateOrderItems():void - добавляет массив тооваров, которые хранятся в корзине в данные по заказу, когда срабатывает событие - создать заказ;
- getTotalSum(): number - вычисляет итоговую стоиость заказа
- clearBasket():void очищает корзину;
- clearOrder():void - очищает данные заказа;
  -changed()- сообщает об изменении данных корзины в поле items
- геттер get items():(GoodInBasket & {id:idGood})[] - получает все товара хранящиеся в корзине \_items т.о., чтобы каждый элемент — объект с данными товара GoodInBasket соотносился с его id идентификатор.

### Классы слоя представления

Все классы представления отвечают за отображение внутри контейнера (DOM-элемент) передаваемых в них данных.

#### Базовый Класс Component

Класс является дженериком и родителем всех компонентов слоя представления. В дженерик принимает тип объекта, в котором данные будут передаваться в метод render для отображения данных в компоненте. В конструктор принимает элемент разметки readonly container: HTMLElement, являющийся основным родительским контейнером компонента, который инициализируется как поле экземпляра класса наследника Component.
Поле класса:
readonly container: HTMLElement - содержит DOM-элемент, связанный с компонентом,служит корневым контейнером для отображения содержимого компонента,передаётся в конструктор при создании компонента.
Методы класса:

- render(data?: Partial<T>): HTMLElement- отвечает за присвоение полученных в параметре данных (data) в поля компонента,а затем возвращает корневой DOM-элемент (container), связанный с этим компонентом. Partial<T> это необязательный объект, содержащий частичные (не все) поля типа T

- toggleClass(element: HTMLElement, className: string, force?: boolean) - переключает класс HTML эелмента. В параметре передается сам HTMLElement, класс className который нужно добавить или убрать с этого элемента и необязательный параметр force чтобы метод работал только на добавление или удаление класса у элемента.
- setText(element: HTMLElement, value: unknown) - устанавливает текст value в переданный HTMLElement
  setDisabled(element: HTMLElement, state: boolean) - устанавливает или удаляет атрибут disabled в зависимости от переданного state;
- setHidden(element: HTMLElement) - убирает element: HTMLElement из поля видимости.
- setImage(element: HTMLImageElement, src: string, alt?: string) -устанавливает путь к картинкеelement: HTMLImageElement, src -путь к картинке, alt - итрибут описания картинки.

#### Класс PageContainer

Отвечат за отображение всех элементов страницы приложения.
Поля класса:

- \_counter: HTMLElement - cчётчик товаров в корзине
- \_catalog: HTMLElement - cписок товаров (каталог)
- \_wrapper: HTMLElement - Обёртка всей страницы
- \_basket: HTMLButtonElement; - Иконка корзины (кнопка)
  В конструктор передается контейнер типа HTMLElement,в котором размещаются карточки и иконка корзины и брокер событий IEvents. В нем определяем поля класса и устанавливается функция-обработчик на иконку корзины.
  Сеттеры класса:
- counter(value: number) - устанавливает число value: number добавленных товаров в корзину товаров;
- catalog(items: HTMLElement[]) - устанавливаем карточки товаров items: HTMLElement[] в раздел каталога для карточек \_catalog;
- set locked(value: boolean) - блокирует прокрутку страницы container:HTMLElement
  В методе render принимает объект интерфейса IPageContainer, который содержит в себе массив карточек -элементов разметки карточек, который отображает в контейнере, за который отвечает,счетчик козрины, и поле для блокировки страницы для взаимодействия через метод render родительского класса с сеттерами дочернего класса PageContainer

#### Класс Modal

Реализует модальное окно.
Конструктор класса принимает container: HTMLElement - элемент разметки модального окна и брокер событий events: IEvents.
В конструкторе инициализируются поля класса и устанавливаются слушатели для закрытия модального окна по клику вне модального окна и на клик в оверлей и кнопку-крестик для закрытия попапа.
Поля:
\_closeButton: HTMLButtonElement - кнопка закрытия модального окна
\_content: HTMLElement - место для отображения данных, основное содержание модального окна с разметкой и данными.
protected events: IEvents - брокер событий
сеттер set content(value: HTMLElement) - устанавливает содержание модального окна в виде разметки с данными.
open() открытие модального окна и оповещение об этом через поле events
close() закрытие модального окна.
render(data: IModalData): HTMLElement - метод отображения модального окна.Переопределяет метод render родителя Conponent, где data: IModalData объект, который передается родителю, затем открывается модальное окно и возвращается корневой эдемент модалки.
В дженерик родителя передается Component<IModalData>.

#### Класс Card<T>

В приложении применяется абстрактный класс Card<T> для отображения карточек. Который задает общие свойства и сеттеры для обозначения карточек в каталоге товаров на странице,карточки подробного просмотра и карточки, добавленного в корзину товара.
Card<T>, где T дженерик - тип карточки, в котором данные будут передаваться в метод render класса родителя Component для отображения данных в компоненте.
Конструктор класса принимает container: HTMLElement карточки и определяет через него нижеуказанные поля title и price в разметке container:

- container: HTMLElement - разметка карточки - передается родителю Component
  \_cardId:string - id карточки товара;
  \_title: HTMLElement - название товара;
  \_price: HTMLElement - цена товара
  Сеттеры и геттеры
  set id(value: string) - устанавливает value: string в поле id экземмпляра класса Card карточки.
  get id():string - получает вышеуказанный id;
  set price(value: number | string) - устанавливает value: number | string в поле price разметки карточки.
  get price():number | string - получает цену товара.
  set title(value: string) - устанавливает в разметку карточки название товара
  get title():string - получает вышеуказанное название.

##### Класс CardPreview<T>

Второй абстрактный класс карточки который наследуется от класса Card. Назначение дженерика как и у класса родителя Card.
Параметр container: HTMLElement - передаем через конструктор родителю Card<T>
Поля класса:
\_category: HTMLElement - разметка для категории товара
\_image: HTMLImageElement - разметка для картинки товара
Тип T это тип карточки с определенными полями, который должны быть заполнены при отображении.
Конструктор класса устанавливает общие поля для карточки каталога и карточки детального просмотра товара: category, image
Сеттеры:
set category(value: string) - устанавливает value: string в разметку категории
set image(value: string) - устанавливает value: string в разметку пути картинки

##### Класс ShortCard

Отвечает за отображение карточки товарав каталоге. Наследуется от абстрактного класса CardPreview.
Конструктор класса принимает кроме container: HTMLElement разметки карточки, обработчик клика на саму карточку IShortCardActions. В конструкторе класса устанавливается обработчик на саму карточку при клике на нее.

##### Класс DetailedCard

Отвечает за отображение карточки при клике на карточку в каталоге для ее детального просмотра. Наследуется от CardPreview<T>
Конструктор класса принимает container: HTMLElement разметку карточки, и обработчик
клика по кнопке карточки IDetailedCardActions.
В конструктор определяет ниже описанные поля - как эдементы разметки карточки и устанавливает переданный обработчик на кнопку карточки.
Поля класса:

- \_description: HTMLElement - разметка описания товара;
- \_button: HTMLElement - кнопка добавить или удалить товар;
- \_isInCart = false - метка о наличии/отсутствии товарав корзине;
  Класс имеет сеттеры для заполения этих полей через метод render, наследуемого от класса Component:
  set description(value: string) - устанавливает value: string в разметку описания товара
  set isInCart(value: boolean) - устанавливает value: boolean в поле \_isInCart экземпляра класса DetailedCard
  геттер get isInCart(): boolean - возвращает значение поля isInCart

##### Класс BasketCard

Отвечает за отображение карточки товара,который был добавлен пользователем в корзину.
Наследуется от Card<T>
Конструктор класса принимает container: HTMLElement разметку карточки, и обработчик
клика по кнопке карточки IBasketCardActions.
В конструктор определяет ниже описанные поля и устанавливает переданный обработчик на кнопку удаления карточки.
Поля класса:

- \_button: HTMLElement- кнопка удаления из корзины;
- \_index:HTMLElement - разметка для порядковыого номера товара
  Сеттер и геттер:
  set displayIndex(value: number) - устанавливает номер товара в корзине в поле индекс
  get displayIndex(): number - получает номер товара в корзине в поле индекс.

#### Класс BasketView

Отвечает за отображение блока с карточками добавленных в корзину.
Конструктор класса принимает container: HTMLElement - разметку корзины и функцию обработчик IBasketViewActions.
В конструктор определяет ниже описанные поля и устанавливает переданный обработчик на кнопку оформления заказа
Поля класса:

- \_items:HTMLElement - HTMLElement, где хранится список HTMLElement карточек добавленных товаров;
- \_totalPrice:HTMLElement -разметка для хранения итоговой стоимости всех товаров;
- \_button:HTMLElement; - кнопка оформления заказа
  Имеет сеттеры:
  set items(items:HTMLElement[]) для заполнения каталога товаров в корзине \_items
  set totalPrice(value:number) - устанавливает стоимость товаров, добавленных в корзину в поле \_totalPrice

#### Класс Form<T>

Наследуется от класса Component. Предназначен для отображения формы, содержащей поля ввода. Является абстрактым классом для всех форм данного приложения.
Конструктор класса принимает container: HTMLFormElement - разметку формы и брокер событий IEvents
В конструктор определяет ниже описанные поля,переопределяет container как HTMLFormElement и устанавливает переданный обработчик на кнопку оформления заказа
В конструкторе определяются поля:

- \_submit: HTMLButtonElement - Кнопка для отправки данных формы;
  -\_errors: HTMLElement - поле дл ошибок полей формы
- container: HTMLFormElement - разметка самой формы.
  Инициирует обработку событий отправки формы submit и введение данных пользователем в конкрентое поле input
  Методы:
  onInputChange(field: keyof T, value: string) - сообщает о событии изменения поле ввода field, где Т тип объекта(дженерик) с именем поля и value: string -его значением.
  Сеттеры:
  valid(value: boolean) - блокирует кнопку отправки формы через value: boolean
  errors(value: string) - устанавливает данные value: string в разметку формы для ошибки
  render(state: Partial<T> & IFormState) - метод, где state: Partial<T> T определяет имена полей ввода формы - обрабатываются прямо в этом методе, а IFormState - поля для сеттеров errors - объект ошибок и valid - блокировка кнопки,которые передаются родителю Component для отображения.

#### Класс FormOrder

Наследуется от класса Form<T>. Предназначен для отображения формы, содержащей поля ввода адреса и типа оплаты интерфейса TBuyerInfo, который передается в джерерик родителя Form<T>.
Конструктор класса принимает container: HTMLElement - разметку формы и брокер событий IEvents
В конструктор определяет ниже описанные поля.
В конструкторе определяются поля:

- \_paymentButtons: HTMLElement; - кнопки переключения типа оплаты: при получении или онлайн. В конструкторе класса на них устанавливается обработчик клика для определния способа оплаты
  Класс имеет сеттеры адреса и типа оплаты для программного заполнения соответствуюших полей ввода:
  set address(value: string) - устанавливает value: string значение адреса в input с именем adress
  set payment(value: TPayment) - устанавливает value: TPayment тип оплаты в input с именем payment.

#### Класс FormContacts

Наследуется от класса Form<T>. Предназначен для отображения формы, содержащей поля ввода телефона и электронной почты пользователя интерфейса TBuyerContacts, который передается в джерерик родителя Form<T>.
Конструктор класса принимает container: HTMLElement - разметку формы с полями ввода для контактов почты и телефона и брокер событий IEvents
set phone(value: string) - устанавливает value: string значение phone в input с именем phone.
set email(value:string) - устанавливает value: string значение email в input с именем email.

### Класс Success

Класс предназначен для отображения результата отправки заказа на сервер, когда пользователь ввел данные и хочет отправить заказ. Наследуется от Component<IStateOrder>, где IStateOrder -статус заказ. Сообщает пользователе о статусе заказа.
Конструктор класса принимает container: HTMLElement - разметку и ообработчик ISuccessActions
В конструктор определяет ниже описанные поля и устанавливает переданный обработчик на кнопку продолжить покупки
Поля класса:
\_totalPrice:HTMLElement - стоимость заказа;
\_button:HTMLElement - кнопка закрытия окна
\_title:HTMLElement - сообщение;
Cеттеры:
set totalPrice(value:number) - устанавливает стоимость заказа;
set titleError(data:TErorr ) - сообщает об ошибке сервера если запрос на заказ был отклонен.

## Слой презентера

Код презентера не будет выделен в отдельный класс, а будет размещен в основном скрипте приложения

### Слой коммуникации

## Взаимодействие компонентов

## Api

Класс Api - базовый класс для отправления get и post запросов на сервер приложения.

#### Класс AppApi

Принимает в конструктор экземпляр класса Api и предоставляет методы реализующие взаимодействие с бэкендом сервиса.
Конструктор принимает следующие параметры:

- cdn: string - адрес, где хранятся изображения;
- baseApi:IApi - экземпляр класса Api,который должен соответстовать интерфейсу IApi
  Методы:
- getAllCards():Promise<IProduct[]> - получает список всех карточек товаров с сервера;
- getCard(id:string):Promise<IProduct> - получает одну карточку;
- sendOrder(order:IOrder):Promise<IOrderResult> - отправляет данные заказа на сервер приложение и при успешном результате вернет промис IOrderResult;

## Взаимодействие компонентов

Код, описывающий взаимодействие представления и данных между собой находится в файле `index.ts`, выполняющем роль презентера.\
Взаимодействие осуществляется за счет событий генерируемых с помощью брокера событий и обработчиков этих событий, описанных в `index.ts`\
В `index.ts` сначала создаются экземпляры всех необходимых классов, а затем настраивается обработка событий.

_Список всех событий, которые могут генерироваться в системе:_\
\_События изменения данных (генерируются классами моделями данных)
Модели данныx:

- Карточки
  `cards:changed` - изменение массива карточек;
  `card:select` -сообщаем, что карточка была кликнута,чтобы установить карточку в поле preview модели данных
  `preview:changed` - событие изменения поля преаью модели данных - для откытия модального окна с текущей карточкой

Компоненты отображения:
Корзина:
`basket:open` - событие, когда пользователь кликает иконку корзины на странице

`formErrors:change` - добавиление ошибок в модели данных если есть ошибки взаполнении полей форм

Данные по заказу
`order:open` - пользователь нажал кнопку оформить заказ с добавленными товарами

`order:submit` - пользователь продолжил оформлять заказ заполнив форму с типом оплаты и адресом доставки.
`contacts:submit` - пользователь отправляет заказ заполнив форму с эл.почтой и телефоном.

События формы
`^${nameForm}\\..*:change` - уведомляем об изменении поля ввода.

Вью компоненты
Корзина
`basket:open` - открытие корзины товарами

Модальное окно
`modal:open` - открытие модального окна
`modal:close` - закрытие модального окна
